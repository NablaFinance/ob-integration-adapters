import type { Address } from "viem";
import type { PriceFeedUpdate } from "./NablaTypes";


export const PORTAL_ADDRESS = "0x1F917Fe724F186a1fFA7744A73afed18C335b9eC" as Address;

// Oracle precision scaling factor (2^96)
export const PRICE_SCALING_FACTOR = BigInt(1e12);
export const FEE_PRECISION = BigInt(1e6);
//TODO: add quote api url
export const QUOTE_API_URL = "https://antenna.nabla.fi/v1/updates/price/stream";


export const ASSET_TO_PRICE_FEED_ID: { [key: Address]: string } = {
  "0x6969696969696969696969696969696969696969": "962088abcfdbdb6e30db2e340c8cf887d9efb311b1f2f17b155a63dbb6d40265", // BERA/USD
  "0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590": "ff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace", // WETH/USD
  "0x0555E30da8f98308EdB960aa94C0Db47230d2B9c": "e62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43", // WBTC/USD
  "0x549943e04f40284185054145c6E4e9568C1D3241": "eaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a", // USDC/USD
};
export const PRICE_FEED_ID_TO_ASSET: { [key: string]: Address } = {
  "962088abcfdbdb6e30db2e340c8cf887d9efb311b1f2f17b155a63dbb6d40265": "0x6969696969696969696969696969696969696969", // BERA/USD
  "ff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace": "0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590", // WETH/USD
  "e62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43": "0x0555E30da8f98308EdB960aa94C0Db47230d2B9c", // WBTC/USD
  "eaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a": "0x549943e04f40284185054145c6E4e9568C1D3241", // USDC/USD
};

export const PLACEHOLDER_PRICE_FEED_UPDATE = {
  binary: {
    data:  ["0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000170f8b544bdf7a450000000000000000000000000000000000000000000000000000000001975aa739e7000000000000000000000000000000000000000000000000000000000000000642544355534400000000000000000000000000000000000000000000000000007cc578723dd50c10dda882f293e9857535242fcbbd3a228c084faa3c8894d7f870d467ab95b049da6a413b9152524d0ec3b9b74acec7d1d030231194027733281c"],
    encoding: 'hex',
  },
      
  parsed:[{
    id: '',
    metadata: {},
    price: {
      price: BigInt(0),
      publish_time: BigInt(0),
    },
  }],
} as PriceFeedUpdate;
